@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply antialiased text-slate-900;
  }
}

@layer utilities {
  .animate-slide-in {
    animation: slideIn 0.3s ease-out;
  }
}

/* ── Mesh Gradient Background ─────────────────────────────── */
.bg-mesh-gradient {
  background-color: #f8fafc;
  background-image:
    radial-gradient(ellipse at 20% 0%, rgba(99, 102, 241, 0.06) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 100%, rgba(139, 92, 246, 0.05) 0%, transparent 50%),
    radial-gradient(ellipse at 50% 50%, rgba(14, 165, 233, 0.03) 0%, transparent 60%);
}

/* ── Tab Content Transition ───────────────────────────────── */
.tab-transition {
  animation: fadeInUp 0.35s ease-out both;
}

/* ── Staggered Children Animation ─────────────────────────── */
.stagger-children > * {
  opacity: 0;
  animation: fadeInUp 0.4s ease-out both;
}
.stagger-children > *:nth-child(1) { animation-delay: 0ms; }
.stagger-children > *:nth-child(2) { animation-delay: 60ms; }
.stagger-children > *:nth-child(3) { animation-delay: 120ms; }
.stagger-children > *:nth-child(4) { animation-delay: 180ms; }
.stagger-children > *:nth-child(5) { animation-delay: 240ms; }
.stagger-children > *:nth-child(6) { animation-delay: 300ms; }
.stagger-children > *:nth-child(7) { animation-delay: 360ms; }
.stagger-children > *:nth-child(8) { animation-delay: 420ms; }

/* ── Accessibility: Respect reduced motion preference ─────── */
@media (prefers-reduced-motion: reduce) {
  .stagger-children > * {
    opacity: 1;
    animation: none;
  }
  .tab-transition {
    animation: none;
  }
  .header-gradient-animated {
    animation: none;
  }
  .progress-ring-circle {
    transition: none;
  }
}

/* ── Animated Header Gradient ─────────────────────────────── */
.header-gradient-animated {
  background-size: 200% 100%;
  animation: gradientShift 8s ease infinite;
}

/* ── Progress Ring Animation ──────────────────────────────── */
.progress-ring-circle {
  transition: stroke-dashoffset 1s ease-out;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Note: These keyframes are intentionally duplicated from tailwind.config.js.
   Tailwind only generates keyframes when its animate-* utility classes are used.
   Our raw CSS classes (.tab-transition, .stagger-children, .header-gradient-animated)
   reference these keyframes by name and need them defined here. */

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes gradientShift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}
